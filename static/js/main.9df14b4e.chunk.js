(this["webpackJsonpprogramming-exercise"]=this["webpackJsonpprogramming-exercise"]||[]).push([[0],{207:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(20),c=n.n(o),i=(n(90),n(91),n(92),n(46)),u=n(3),l=n(28),m=n(27),s=n(47),d=n.n(s),f=n(224),h=n(223),g=n(225),p=n(226),b=n(77),E=function(e){return r.a.createElement(b.Line,{data:e.data,options:e.options,width:e.width,height:e.height})},y=n(22),w=n.n(y),v="https://shakepay.github.io/programming-exercise/web/transaction_history.json",C={labels:[],datasets:[{label:"CAD",fill:!1,lineTension:.1,backgroundColor:"rgba(75,192,192,0.4)",borderColor:"rgba(75,192,192,1)",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",legend:"CAD",pointBorderColor:"rgba(75,192,192,1)",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:[]}]},D=function(){var e,t=Object(a.useState)(null),n=Object(m.a)(t,2),o=n[0],c=n[1],i=Object(a.useState)(null),u=Object(m.a)(i,2),s=u[0],b=u[1],y=Object(a.useState)(C),D=Object(m.a)(y,2),A=D[0],j=D[1],T=Object(a.useState)(0),x=Object(m.a)(T,2),k=x[0],O=x[1];return Object(a.useEffect)((function(){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};w.a.get("https://shakepay.github.io/programming-exercise/web/rates_CAD_BTC.json").then((function(t){e(t.data)})).catch((function(e){t(e)}))}((function(e){c(e),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};w.a.get("https://shakepay.github.io/programming-exercise/web/rates_CAD_ETH.json").then((function(t){e(t.data)})).catch((function(e){t(e)}))}((function(t){var n=0,a=0,r=0,o=0;!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};w.a.get(v).then((function(t){e(t.data)})).catch((function(e){t(e)}))}((function(c){c.sort((function(e,t){return new Date(e.createdAt)-new Date(t.createdAt)})),e.sort((function(e,t){return new Date(e.createdAt)-new Date(t.createdAt)})),t.sort((function(e,t){return new Date(e.createdAt)-new Date(t.createdAt)})),b(c);var i=0,u=0,m=0,s=0,d=c.map((function(c){for(var l=new Date(c.createdAt);n<e.length&&l>=new Date(e[n].createdAt);)r=e[n].midMarketRate,n++;for(;a<t.length&&l>=new Date(t[a].createdAt);)o=t[a].midMarketRate,a++;return"credit"===c.direction?"CAD"===c.currency?u+=c.amount:"BTC"===c.currency?m+=c.amount:"ETH"===c.currency&&(s+=c.amount):"debit"===c.direction?"CAD"===c.currency?u-=c.amount:"BTC"===c.currency?m-=c.amount:"ETH"===c.currency&&(s-=c.amount):"conversion"===c.type&&("CAD"===c.from.currency&&"BTC"===c.to.currency?(u-=c.from.amount,m+=c.to.amount):"CAD"===c.from.currency&&"ETH"===c.to.currency?(u-=c.from.amount,s+=c.to.amount):"BTC"===c.from.currency&&"CAD"===c.to.currency?(m-=c.from.amount,u+=c.to.amount):"ETH"===c.from.currency&&"CAD"===c.to.currency&&(s-=c.from.amount,u+=c.to.amount)),i=u+m*r+s*o,{x:new Date(c.createdAt),y:i}}));j(Object(l.a)(Object(l.a)({},A),{},{labels:c.map((function(e){return new Date(e.createdAt).toLocaleString()})),datasets:[Object(l.a)(Object(l.a)({},A.datasets[0]),{},{data:d})]})),O(i)}),(function(e){console.error("Transaction History",e)}))}))}),(function(e){console.error("Cad To Btc Rates History",e)}))}),[]),r.a.createElement(h.a,null,r.a.createElement(f.a,{container:!0,direction:"column",justify:"center",alignItems:"center",spacing:4,className:d.a.root},null===o||null===s?r.a.createElement(f.a,{item:!0},r.a.createElement(g.a,null)):r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{item:!0},r.a.createElement(p.a,{variant:"h3",className:d.a.underlineText},"Personal Net Worth")),r.a.createElement(f.a,{item:!0},r.a.createElement(p.a,{variant:"h4"},(e=k,new Intl.NumberFormat("en-US",{style:"currency",currency:"CAD"}).format(e)))),r.a.createElement(f.a,{item:!0},r.a.createElement(E,{data:A,options:{scales:{xAxes:[{type:"time",time:{displayFormats:{quarter:"MMM YYYY"}}}]}},width:900,height:550})))))},A=n(78),j=n.n(A),T=n(227),x=n(79),k=n.n(x),O=function(){var e=Object(u.f)();return r.a.createElement(h.a,null,r.a.createElement(f.a,{container:!0,direction:"column",justify:"center",alignItems:"center",spacing:10,className:j.a.root},r.a.createElement(f.a,{item:!0},r.a.createElement("img",{src:k.a,alt:"Girl in a jacket",width:"300",height:"300"})),r.a.createElement(f.a,{item:!0},r.a.createElement(T.a,{variant:"outlined",onClick:function(){e.push("/net-worth")}},r.a.createElement(p.a,{variant:"h4"},"View net worth")))))},_=function(){return r.a.createElement(i.a,null,r.a.createElement("div",null,r.a.createElement(u.c,null,r.a.createElement(u.a,{exact:!0,path:"/"},r.a.createElement(O,null)),r.a.createElement(u.a,{path:"/net-worth"},r.a.createElement(D,null)))))},B=function(){return r.a.createElement(_,null)},H=function(){return r.a.createElement(B,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(H,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},47:function(e,t,n){e.exports={root:"MainScreen_root__1m32u",underlineText:"MainScreen_underlineText__2vM4_"}},78:function(e,t,n){e.exports={root:"WelcomeScreen_root__q-Tkg"}},79:function(e,t,n){e.exports=n.p+"static/media/logo.c2468d46.png"},85:function(e,t,n){e.exports=n(207)},90:function(e,t,n){},92:function(e,t,n){}},[[85,1,2]]]);
//# sourceMappingURL=main.9df14b4e.chunk.js.map